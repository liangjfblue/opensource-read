设计技巧

1.数据分片, 降低锁的范围, 减少锁的冲突
2.数据的存储:map(key-hash值, value-分片的队列索引)用于快速定位, 循环队列用于存数据
3.循环队列利用切片, 每个条目一个分片的条目缓冲区复用, 减少内存的分配, 降低gc压力
4.字节队列, 存字节, 而非数据指针, 降低gc压力
5.包装条目, 统一字节管理
6.使用了Uvarint编码解码
7.切片和字符串转换通过unsafe.point和反射来转换, 避免中间边变量的产生
8.队列的索引0不用 用来方便判断队列是否空
9.FLV-64a算法改进, 速度比标准库的快4倍
